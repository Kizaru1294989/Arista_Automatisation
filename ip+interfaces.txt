from Tools.Terminal.console_menu import terminal

def get_ip_addresses():
    ip_addresses = {}

    manage_interface = input("Voulez-vous que toutes les adresses IP soient sur l'interface de gestion ? (o/n) : ")
    if manage_interface.lower() == "o":
        manage_interface = True
    else:
        manage_interface = False

    for spine_number in range(1, 3):
        spine_ip = input(f"Veuillez saisir l'adresse IP du Spine {spine_number}: ")
        ip_addresses[f"Spine {spine_number}"] = {"IP": spine_ip, "Interface": "management" if manage_interface else input(f"Interface pour l'adresse IP du Spine {spine_number}: ")}

    for leaf_number in range(1, 5):
        leaf_ip = input(f"Veuillez saisir l'adresse IP du Leaf {leaf_number}: ")
        ip_addresses[f"Leaf {leaf_number}"] = {"IP": leaf_ip, "Interface": "management" if manage_interface else input(f"Interface pour l'adresse IP du Leaf {leaf_number}: ")}

    return ip_addresses

def main():
    ip_addresses = get_ip_addresses()
    print("Adresses IP des équipements:")
    for device, details in ip_addresses.items():
        print(f"{device}: IP = {details['IP']}, Interface = {details['Interface']}")
    
    while True:
        cli = input("Est-ce correct ? (o/n) : ")
        if cli.lower() == "o":
            
            else:

            break
        elif cli.lower() == "n":
            # Si l'utilisateur veut corriger les adresses IP, relancer la fonction principale
            main()
            break
        else:
            print("Veuillez entrer une réponse valide (o/n).")

if __name__ == '__main__':
    main()
