[root@rais:/home/rais/test]# cat ansible.cfg
[defaults]
inventory = ./hosts
host_key_checking = False
roles_path = roles.galaxy:roles
stdout_callback = yaml
[root@rais:/home/rais/test]# cat get-version.yml
---
- name: Run commands on remote cEOS-lab device
  hosts: arista
  connection: httpapi
  gather_facts: no
  vars:
    ansible_python_interpreter: "python"
  tasks:
    - name: Execute Arista EOS command
      eos_command:
        commands: show version
      when: ansible_network_os == 'eos'
      register: version
    - name: Display result
      debug:
        msg: "{{ version.stdout[0] }}"
[root@rais:/home/rais/test]# cat hosts
[arista]
ceos1 ansible_host=10.43.193.133 ansible_httpapi_port=443
ceos2 ansible_host=10.43.193.132 ansible_httpapi_port=443

[arista:vars]
ansible_network_os='eos'
ansible_httpapi_use_ssl='yes'
ansible_httpapi_validate_certs='no'
ansible_user='cvpadmin'
ansible_httpapi_password='eve'
